<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script type="text/javascript">

  var gbifMapType = new google.maps.ImageMapType({
    getTileUrl: function(coord, zoom) {
      return "http://localhost:8080/density/tile?key=1&x=" + coord.x + "&y=" + coord.y + "&z=" + zoom + "&type=TAXON";
   },
   tileSize: new google.maps.Size(256, 256),
   isPng: true
  });

  function initialize() {
    var latlng = new google.maps.LatLng(0, 0);
    var myOptions = {
      zoom: 0,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    
      var styles = [ 
        {
          featureType: 'all',
          stylers: [
            { saturation: -80 }
          ]
        },    
      ];
      var mapOptions = {
        zoom: 0,
        center: new google.maps.LatLng(0, 0),
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        styles: styles,
      };
    
    
    var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
    map.overlayMapTypes.insertAt(0, gbifMapType);
  }

</script>
</head>
<body onload="initialize()">
  <div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>